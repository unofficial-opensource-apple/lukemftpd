--- tnftpd.h.orig	2008-06-18 13:57:42.000000000 -0700
+++ tnftpd.h	2008-06-18 13:58:19.000000000 -0700
@@ -548,8 +548,12 @@
 #define TM_YEAR_BASE	1900
 
 #if !defined(LOGIN_NAME_MAX)
+#ifdef __APPLE__
+# define LOGIN_NAME_MAX (256)
+#else
 # define LOGIN_NAME_MAX (9)
 #endif
+#endif
 
 #if !defined(_POSIX_LOGIN_NAME_MAX)
 # define _POSIX_LOGIN_NAME_MAX LOGIN_NAME_MAX
